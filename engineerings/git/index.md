# Git çŸ¥è¯†æ€»ç»“

## ğŸŒ´ git å‘½åæ€»ç»“

### æ‹‰å–ä»£ç 

`git pull`: ç­‰ä»·äº `git fetch` + `git merge`

```bash
# å®Œæ•´å†™æ³•
git pull origin master:dev # æœ¬åœ° dev ä¸è¿œç¨‹ master åˆå¹¶

# åˆ†æ”¯ç›¸åŒå†™æ³•
git pull origin master # æœ¬åœ° master ä¸è¿œç¨‹ master åˆå¹¶

# git pull
git pull # åŒæ—¶æ‹‰å–å¤šä¸ªåˆ†æ”¯ï¼Œä¸æœ¬åœ°ä¸ä¹‹å…³è”çš„åˆ†æ”¯è¿›è¡Œåˆå¹¶
```

### æ¨é€ä»£ç 

```bash
git push origin dev: master # æœ¬åœ°çš„devæäº¤åˆ°è¿œç¨‹çš„master
git push origin master # æŠŠmasteræ¨é€åˆ°ä¸ä¹‹å…³è”çš„åˆ†æ”¯ä¸Šï¼Œå¦‚æœæ²¡æœ‰ï¼Œä¹Ÿä¼šæ–°å»ºä¸€ä¸ªåˆ†æ”¯
git push # è‹¥æ˜¯å½“å‰åˆ†æ”¯åªæœ‰ä¸€ä¸ªè¿œç¨‹åˆ†æ”¯ä¸ä¹‹å…³è”ï¼Œå¯ä»¥ç›´æ¥çœç•¥pushåé¢çš„ä¸€åˆ‡
```

### æ ‡ç­¾

```bash
Â git tag -a æ ‡ç­¾å -m <é™„æ³¨ä¿¡æ¯> Â  Â  # åˆ›å»ºä¸€ä¸ªæ ‡ç­¾ å¹¶æ·»åŠ å¤‡æ³¨
Â # -a annotate æ³¨é‡Š Â  -m  message ä¿¡æ¯
Â â€‹
Â git push origin --tags Â  Â  Â  Â  Â  # æŠŠæœ¬åœ°tagsæ¨é€åˆ°è¿œç«¯
Â â€‹
Â git show <æ ‡ç­¾å> Â  Â  Â  Â  Â  # æŸ¥çœ‹æ ‡ç­¾è¯¦æƒ…
Â â€‹
Â git tag -d <æ ‡ç­¾å> Â  Â  Â  Â  # åˆ é™¤æ ‡ç­¾
```

### åˆ é™¤åˆ†æ”¯

```bash
git branch -a # æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯

git branch -D åˆ†æ”¯å # åˆ é™¤æœ¬åœ°åˆ†æ”¯

git push origin --delete åˆ†æ”¯å # åˆ é™¤è¿œç¨‹åˆ†æ”¯
```

### å­æ¨¡å—

- git submodule
- git subtree

[git submodule çš„åˆä½“éªŒ](https://juejin.cn/post/7299673335503650835)

```bash
# gitsubmodule01 é¡¹ç›®ä¸­æ‰§è¡Œ

git submodule add https://gitee.com/xxx/git-submodule02.git submodule02


# å­æ¨¡å—åˆå§‹åŒ–å’Œæ›´æ–°

git submodule init # åˆå§‹åŒ–
git submodule update # æ›´æ–°ï¼Œæ‹‰å–ä»£ç 
# æˆ–è€…
git submodule update --init
# å¦‚æœå­æ¨¡å—é‡Œé¢å«æœ‰å­æ¨¡å—ï¼Œå¯ä»¥ç›´æ¥é‡‡ç”¨é€’å½’è§£å†³
git submodule update --init --recursive
```

## git é…ç½®

```bash
#é…ç½®é‚®ç®±
git config --global user.email "xxx@xxx.com"
Â â€‹
# é…ç½®ç”¨æˆ·å
git config --global user.name "xxx"
Â â€‹
# æŸ¥çœ‹é…ç½®ä¿¡æ¯
git config --list
```

::: info è¿™é‡Œé…ç½® ç”¨æˆ·å å’Œ é‚®ç®±æœ‰ä»€ä¹ˆä½œç”¨å‘¢?
è¿œç¨‹ä»“åº“ä¸€èˆ¬æ”¯æŒä¸¤ç§åè®®ï¼š`SSH` å’Œ `HTTPS`ï¼Œ`SSH` åè®®åªè®¤æœºå™¨ï¼Œ`HTTPS` åè®®åªè®¤è´¦å·ï¼›

å¦‚æœä½¿ç”¨ SSH æ“ä½œè¿œç¨‹ä»“åº“çš„è¯ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨å…¬é’¥å’Œç§é’¥å¯¹æ¥åšæƒé™çš„è®¤è¯ï¼›

å¦‚æœä½¿ç”¨ HTTPS æ“ä½œè¿œç¨‹ä»“åº“ï¼Œåˆ™éœ€è¦ä½¿ç”¨è´¦å·å¯†ç æ¥åšæƒé™çš„è®¤è¯ã€‚

æ‰€ä»¥è¯´æ— è®ºæ˜¯å…¬é’¥ç§é’¥å¯¹ï¼Œè¿˜æ˜¯è´¦å·å¯†ç ï¼Œéƒ½åªåšæƒé™çš„è®¤è¯ï¼›ä½†æ˜¯è¿œç¨‹ä»“åº“é‡Œéœ€è¦è®°å½•è¿™äº›æäº¤è®°å½•æ˜¯ç”±è°æ¥å®Œæˆçš„ï¼›æ‰€ä»¥æˆ‘ä»¬éœ€è¦ç»™æœ¬åœ°çš„ git è®¾ç½®ç”¨æˆ·åå’Œé‚®ç®±ï¼Œç”¨äºä»æœ¬åœ°ä»“åº“å‘è¿œç¨‹ä»“åº“æäº¤è®°å½•æ—¶ï¼Œåœ¨è¿œç¨‹ä»“åº“è®°å½•ä¸‹è¿™äº›æ“ä½œæ˜¯ç”±è°æ¥å®Œæˆçš„ã€‚

ç®€å•çš„æ¥è¯´ï¼š å°±æ˜¯çŸ¥é“æ˜¯è° commit çš„å†…å®¹ã€‚

:::

## å…³è”åˆ†æ”¯

[Git ç³»åˆ—ï¼šå…³è”åˆ†æ”¯çš„è®¤è¯†å’Œè®¾ç½®](https://juejin.cn/post/7097244926412324871)

**å…³è”åˆ†æ”¯ï¼š** ç®€å•ç†è§£å°±æ˜¯ï¼Œæœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯å»ºç«‹ä¸€ç§æ˜ å°„å…³ç³»

**æŸ¥çœ‹æ˜ å°„å…³ç³»ï¼š** `git branch -v`

::: warning æ³¨æ„
åœ¨æ²¡æœ‰è¢«å…³è”çš„åˆ†æ”¯ä¸Šï¼Œæ“ä½œ `git pull` å’Œ `git push`, éƒ½æ˜¯ä¸ä¼šæˆåŠŸçš„ã€‚
:::

### `--set-upstream` è¯­æ³•

**ä¸æˆåŠŸçš„æç¤º**ï¼š

git pull: `git branch --set-upstream-to=origin/xxx xxx`

git push: `git push --set-upstream origin xxx`

**å…·ä½“ç”¨æ³•**ï¼š

ç”¨æ³•ä¸€ï¼š`git branch --set-upstream-to=è¿œç¨‹ä»“åº“å/è¿œç¨‹åˆ†æ”¯å æœ¬åœ°åˆ†æ”¯å`

ç”¨æ³•äºŒï¼š`git push --set-upstream è¿œç¨‹ä»“åº“å è¿œç¨‹åˆ†æ”¯å`

```bash
git branch --set-upstream-to=origin/master test #  æœ¬åœ°åˆ†æ”¯ test ä¸ è¿œç¨‹åˆ†æ”¯ master è¿›è¡Œå…³è”

# test åˆ†æ”¯ä¸Šæ“ä½œ
git push --set-upstream origin dev # ç«™åœ¨ test æœ¬åœ°åˆ†æ”¯ä¸Šæ“ä½œï¼Œä¸è¿œç¨‹åˆ†æ”¯ dev è¿›è¡Œå…³è”ã€‚
```

### å…¶ä»–æ–¹å¼å…³è”åˆ†æ”¯

```bash
# æƒ…å†µä¸€ï¼š
git checkout -b YYY origin/XXX # è¿™æ ·æœ¬åœ°åˆ†æ”¯ YYY ä¸ è¿œç¨‹åˆ†æ”¯ XXX å°±ç›¸äº’å…³è”äº†

# æƒ…å†µäºŒï¼š
git checkout -b XXX
git push -u origin XXX
```

::: tip å°çŸ¥è¯†ç‚¹
`git push -u origin xxx` æŠŠ xxx æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼Œå¹¶å…³è”ã€‚

â€‹<br />
ç­‰ä»·äºï¼ˆä¸‹é¢çš„ä¸¤æ¡å‘½ä»¤ï¼‰

`git push origin xxx` æŠŠ xxx æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å…³è”

`git branch --set-upstream-to=origin/yyy xxx` è¿œç¨‹åˆ†æ”¯ yyy ä¸æœ¬åœ°åˆ†æ”¯ xxx ç›¸äº’å…³è”

:::

### å–æ¶ˆå…³è”

`git branch --unset-upstream` ç«™åœ¨å½“å‰çš„åˆ†æ”¯ä¸Šï¼Œè§£é™¤å½“å‰åˆ†æ”¯çš„è¿œç¨‹å…³è”ã€‚
