# 如何自定义 hook

## 前提

1. 什么是工具函数？什么是 hook 函数？区别在于是否有*状态*。
2. 什么是无状态？什么是有状态？_状态就是当其发生变化，页面也有随之发生变化_

## 定义

在 React 中，自定义 hook 是一个函数，其名称以 use 开头， 如果不是，就不会被识别为 hook，也就不能使用 hook 函数。

但是在 vue 中，没有硬性要求以 use 开头，只要是函数，都可以作为 hook 使用。但是为了见名知意，还是建议以 `use` 开头。

## 开发要素

1. 在里面可以使用 vue 提供的一些列函数，如 ref，computed 等等。
2. hook 函数的返回值一般是数组或者对象。数组是对应的位置命名的，可以方便重命名；而对象对于类型和语法提示更加的友好， 只不过多次调用的时候，需要解构取别名。
3. hook 函数返回的是对象或则数组，那么一定不是 async 函数，那么在 hooks 中遇到异步代码时，是通过 then 的方式。
4. hook 函数的返回值如果是对象（一般是 reactive 对象），那么需要 `toRefs` 解构导出，避免失去响应式性，且可以多次使用。
5. hook 函数定义的参数越少越好，最好不要超过两个；若超过，就可以使用对象传递参数了。也需要再内部定义好默认值。

## 尝试

- useTable： 看看能实现多少功能
