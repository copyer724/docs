# like-admin-vue 开发笔记

### import.meta.glob

```ts
import.meta.glob("./**/*", { eager: true });
```

匹配当前目录下的所有目录和文件， `{eager: true}` 表示告诉构建工具立即加载所有匹配的模块，而不是等到被引用时才去加载（用于应用启动时就立即可用的模块）。

其值为**键是文件的路径，值是动态导入函数**

```ts
{
  './plugins/pinia': { default: function() {} },
  './plugins/router': { default: function() {} }
}
```

### app.use() 的原理

- 应用：`app.use` 是 Vue 插件系统的核心，它使得 Vue 应用能够灵活地扩展和自定义，注册到 vue 应用上，不是原型上（也就是所谓的全局数据）。

- 原理：当调用 `Vue.use()` 方法时，它会首先检查插件是否已经被安装，如果已经被安装，则直接返回，否则它会执行插件对象或函数中的 `install()` 方法，并且将 Vue 作为参数传入。在 install() 方法中，我们可以向 Vue 构造函数或者实例中添加新的功能，例如添加全局方法、注册全局组件、添加实例方法和属性等。这些新增的功能会在整个应用范围内生效。

- 参数：参数接受一个**对象**或者**函数**，里面必须包含 install 属性，且是一个函数。

- 返回值: `Vue 应用实例本身`，所以支持链式调用。

- 执行时机：app.use 通常在创建 Vue 应用实例之后、在挂载根组件之前调用
